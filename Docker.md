# Docker

## 기본 명령어 모음

#### 도커 버전확인
    $ docker -v
  

#### 도커 이미지 다운만 받기
    $ docker pull {이미지명}:{태그}
  

#### 컴퓨터 내 도커 이미지들 보기
    $ docker images
  

#### 이미지로 컨테이너 생성하기
    $ docker create {옵션} {이미지명}:{태그}
  

#### 만들어진 컨테이너 시작하기
    $ docker start {컨테이너 id 또는 이름}
  

#### 컨테이너로 들어가기
    $ docker attach {컨테이너 id 또는 이름}
  

#### 이미지를 다운로드하고 없는 경우 바로 컨테이너 실행하여 진입하기
    $ docker run {이미지명}:{태그}  // pull, create, attach 를 한번에 실행하는 것과 같다
  

#### 동작중인 컨테이너 재시작
    $ docker restart {컨테이너 id 또는 이름}
  

#### 도커 컨테이너의 내부 쉘에서 빠져나오기
    $ exit  // 또는 ctrl + D
  

#### 컨테이너의 내부 쉘에서 빠져나오기 (컨테이너 종료하지는 않음)
    ctrl + P,Q
  

#### 동작중인 컨테이너 보기
    $ docker ps
  

#### 컨테이너 삭제
    $ docker rm {컨테이너 id 또는 이름}
    # 모든 컨테이너 삭제
    $ docker rm 'docekr ps -a -q'
  

#### 이미지 삭제
    $ docker rmi {옵션} {이미지id}  // 컨테이너가 있을시 강제삭제는 -f 옵션 사용
  

#### 모든 컨테이너와 이미지 등 도커 요소 중지 및 삭제
    $ docker stop ${docker ps -aq}  // 모든 컨테이너 중지
    $ docker system prune -a        // 사용되지 않는 모든 도커 요소 삭제
  

#### 도커 파일로 이미지 생성
    $ docker build -t {이미지명}.  // 도커파일이 있는 디렉토리에서
  

#### 도커 컴포즈 실행
    $ docker-compose up

  
#### 도커 옵션
|옵션|설명|
|----|----|
|-d|데몬으로 실행 (백그라운드에서 알아서 돌라고 지시)|
|-it|컨테이너로 들어갔을 때 bash로 CLI입출력을 사용할 수 있도록 해줌|
|-name{이름}|컨테이너 이름 지정|
|-p{호스트의 포트 번호}:{컨테이너의 포트 번호}|호스트와 컨테이너의 포트를 연결|
|-rm|컨테이너가 종료되면 컨테이너 제거|
|-v {호스트의 디렉토리}:{컨테이너의 디렉토리}|호스트와 컨테이너의 디렉토리를 연결|
